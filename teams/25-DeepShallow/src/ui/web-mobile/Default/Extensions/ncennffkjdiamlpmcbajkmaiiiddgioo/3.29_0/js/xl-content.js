!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){var{XLMultiDownload:i}=n(2);!function(){var e,t,n,o,r,a,l,s,d,c=!1,u=!1,m=!1,f=!1,v=!1,p=!0,h=!0,b=!1,_=void 0,g=null,w=[],x=null,k=void 0,y="xl_chrome_ext_{4DB361DE-01F7-4376-B494-639E489D19ED}",E=["http.+\\?.*url=.+","http.+\\?.*uri=.+"],L="ED2K://",S="MAGNET:?",C="FTP://THUNDER://MMS://MMST://RTSP://RTSPU://XLAPP://";function j(e,t){return 0!=e.length&&(0!=f&&(0!=function(e){if(0==e.length)return!1;var t=e,n=t.indexOf(":");if(-1==n)return!1;var i=t.substr(0,n+1).toUpperCase();if(""==i)return!1;var o=!0;return-1!=L.indexOf(i)?0==c&&(o=!1):-1!=S.indexOf(i)?0==u&&(o=!1):-1!=C.indexOf(i)?0==m&&(o=!1):o=!1,o}(e)&&(0!=function(e){if(0==e.length)return!0;var t=new Array,n=a.split("||");for(var i in n){var o=n[i].slice(2).trimRight("|");t.push(o)}var r=!0,l=e;for(var s in t)if(t[s].length>0&&-1!=l.indexOf(t[s])){r=!1;break}return r}(t)&&(!function(e){if(0==e.length)return!1;if(0==l.length)return!1;var t=new Array,n=l.split("||");for(var i in n){var o=n[i].slice(2).toLowerCase().trimRight("|");t.push(o)}var r=!1,a=e.toLowerCase();for(var s in t)if(t[s]>0&&-1!=a.indexOf(t[s])){r=!0;break}return r}(t)&&0!=function(e){if(0==e.length)return!1;var t=e.indexOf(":");if(-1==t)return!1;var n=e.toLowerCase();if("xlapp://"==n.substr(0,t+3).trimLeft(" "))return!0;if(-1!=n.indexOf("ed2k://")||-1!=n.indexOf("magnet:?"))return!0;var i,o,r=!1,a=(i=n.replace(/(\\+)/g,"#").split("#"),(o=i[i.length-1].split("."))[o.length-1]);return a.length>0&&(a+=";",-1!=s.indexOf(a)&&(r=!0)),r}(e)))))}function M(e){return t=e,document.cookie,n=document.location.href,!function(e){var t=e.toLowerCase(),n=!0;return-1!=t.indexOf("?")&&-1==t.indexOf("magnet:?")||(n=!1),n}(t)&&j(t,n);var t,n}function T(e){if(!e.ctrlKey)if(t&&o&&r){var i=this.href;if(checkResult=function(e){for(var t in E){var n=new RegExp(E[t],"i").exec(e);if(null!=n)return n}return null}(i),null!=checkResult)return;if(checkResult=M(i),checkResult)return chrome.extension.sendRequest({name:"xl_download",link:i,cookie:document.cookie,referurl:document.location.href}),e.stopPropagation(),void e.preventDefault()}else if(n){!function(e){let t="";0===(e=e.toLowerCase()).toLowerCase().indexOf("thunder://")?t="当前下载链接，建议使用迅雷下载":0===e.indexOf("ed2k://")?t="当前为电驴链接文件，建议使用迅雷下载":0===e.indexOf("magnet:?")&&(t="当前为磁力链文件，建议使用迅雷下载"),t&&chrome.runtime.sendMessage({name:"xl_prompt_enable"},function(e){e&&e.enable&&$(t)})}(i=this.href)}}function O(e,t){var n=!1;do{if(!t)break;var i=t.getBoundingClientRect();if(e.clientX<i.left||e.clientY<i.top||e.clientX>i.right||e.clientY>i.bottom)break;n=!0}while(0);return n}function R(){do{var e=document.getElementById(y);if(!e)break;e.style.display="none"}while(0)}function D(e){do{var t=document.getElementById(y);if(!t)break;v||(v=!0,chrome.extension.sendRequest({name:"VideoShow",referurl:document.location.href},function(){})),t.style.display="block";var n=e.getBoundingClientRect(),i=`position:fixed;left: ${n.x+12}px; top: ${n.y+12}px; width: 98px; height: 24px; z-index: 1000000;`;t.style=i}while(0)}function P(){document.addEventListener("keydown",function(e){e.ctrlKey&&chrome.extension.sendRequest({name:"EnabledCapture",capture:!1},function(){}),window.top!==window.self&&chrome.runtime.sendMessage({name:"xl_chrome_iframe_keydown",keyCode:e.keyCode})}),document.addEventListener("keyup",function(e){if(e.ctrlKey&&chrome.extension.sendRequest({name:"EnabledCapture",capture:!0},function(){}),h)switch(e.keyCode){case 68:e.shiftKey&&(function(){let e=!1;do{if(!document.activeElement)break;let t=document.activeElement,n=t.tagName.toUpperCase();if("INPUT"===n||"TEXTAREA"===n){e=!0;break}if(!t.contentEditable)break;if("true"===t.contentEditable.toLowerCase()){e=!0;break}}while(0);return e}()||t&&(window.top===window.self?i.enter():chrome.runtime.sendMessage({name:"xl_chrome_iframe_multi_hotkey"})))}},!0)}function N(){chrome.extension.onMessage.addListener(function(l,s,d){if("UpdatePluginEnabled"==l.name)n=l.exception,(t=l.enable)&&p?F():z(),t||i.quit();else if("UpdateMoniterVideoTags"==l.name)p=l.enable,t&&p?F():z();else if("UpdateMultiSelectShortcutEnable"==l.name)h=l.enable;else if("UpdateWebsiteEnabled"==l.name)o=l.enable;else if("UpdatePageEnabled"==l.name)r=l.enable;else if("OnActivated"==l.name)e&&(c=document.location.href,u=l.tabId,m=window.top===window.self,chrome.extension.sendRequest({name:"CheckEnabled",url:c,tabId:u,topFrame:m},function(e){t=e.bPlugin,p=e.bMonitorVideo,o=e.bWebsite,r=e.bPage,h=e.bShortcutEnable,t&&p?F():z()}));else if("UpdateMonitorDomains"==l.name)a=l.monitorDomains;else if("GetCookie"==l.name)d({cookie:document.cookie});else if("ThunderSupportReminder"===l.name)window.self===window.top&&$(l.text);else if("EnterMultiSelect"===l.name){if(window.self!==window.top)return;i.enter()}else if("xl_chrome_iframe_keydown"===l.name){if(window.top===window.self)switch(l.keyCode){case 13:i.download();break;case 27:i.quit()}}else if("xl_chrome_iframe_multi_hotkey"===l.name)window.top===window.self&&i.enter();else if("GetAllImages"===l.name&&window.top===window.self){let e=[];for(let t of document.images)t.src&&e.push({src:t.src,width:t.width,height:t.height,naturalWidth:t.naturalWidth,naturalHeight:t.naturalHeight});return d(e),!0}var c,u,m})}function I(e){var t=void 0;do{if(!e)break;if("VIDEO"!==e.tagName.toUpperCase())break;if(e.src){if(0===e.src.toLowerCase().indexOf("blob:"))break;t=e.src;break}if(!e.children||0===e.children.length)break;for(var n=0;n<e.children.length;n++){let i=e.children[n];if("source"===i.tagName.toLowerCase()&&i.src){0!==i.src.toLowerCase().indexOf("blob:")&&(t=i.src);break}}}while(0);return t}function q(e){let t=void 0;for(var n=0;n<e.children.length;n++){let o=e.children[n];if("source"===o.tagName.toLowerCase()&&o.type){var i=o.type.split("/");i.length>0&&(t=i[i.length-1]);break}}return t?`.${t}`:""}function B(e){var t=document.elementFromPoint(e.x,e.y);do{if(!t)break;if(t.tagName.toUpperCase(),"VIDEO"===t.tagName.toUpperCase()){var n=t.src||I(t);if(!n)break;if(0===n.toLowerCase().indexOf("blob:"))break;if(t===x)break;x=t,k=n,D(t);break}if(x){if(!O(e,x)){x=null,k=void 0,R();break}}else{if(0===w.length)break;for(var i=null,o=0;o<w.length;o++){var r=w[o];if("none"!==window.getComputedStyle(r).display)if(O(e,r))if(i)(Number(window.getComputedStyle(r).zIndex)||0)>(Number(window.getComputedStyle(i).zIndex)||0)&&(i=r);else i=r;else if(i)break}if(i){var a=i.src||I(i);a&&0!==a.toLowerCase().indexOf("blob:")&&(x=i,k=a,D(i));break}}}while(0)}function U(e){x&&(x=null,k=void 0,R())}function A(e){B(e)}function V(e){x&&D(x)}function z(){var e=document.getElementById(y);e&&(document.body.removeChild(e),document.body.removeEventListener("mousemove",B,!0),window.self!==window.top&&document.body.removeEventListener("mouseout",U),document.body.removeEventListener("wheel",A),document.removeEventListener("scroll",V),x=null,k=void 0,w=[]),g&&(g.disconnect(),g=null)}function H(){do{if(!x)break;var e=x;if(!k)break;function t(e){var t="";if(e&&e.length>0){var n=e.lastIndexOf(".");-1!==n&&(t=(t=e.substr(n)).toLowerCase())}return t}var n="";if(document.title){var i=document.title.replace(/[*?/:|<>"]/g,"");if(i){var o=t((void 0,r=k.replace(/\?.*$/,"").replace(/.*\//,""),decodeURIComponent(r)));o||(o=q(e)),n=`${i}${o}`}}chrome.extension.sendRequest({name:"xl_download",link:k,cookie:document.cookie,referurl:document.location.href,fileName:n,stat:"chrome_download_video"})}while(0);var r}function W(){var e=document.createElement("div");e.className="xl-chrome-ext-bar",e.style.display="none",e.id=y,e.innerHTML='\n      <div class="xl-chrome-ext-bar__logo"></div>\n\n      <a id="xl_chrome_ext_download" href="javascript:;" class="xl-chrome-ext-bar__option">下载视频</a>\n      <a id="xl_chrome_ext_close" href="javascript:;" class="xl-chrome-ext-bar__close"></a>\n    ',document.body.appendChild(e);for(var t=e.getElementsByTagName("a"),n=0;n<t.length;n++){t[n].addEventListener("click",e=>{do{if(!e)break;if(!e.target)break;switch(e.target.id){case"xl_chrome_ext_download":e.preventDefault(),H();break;case"xl_chrome_ext_close":e.preventDefault(),z(),_=!0}}while(0)},!1)}document.body.addEventListener("mousemove",B,!0),window.self!==window.top&&document.body.addEventListener("mouseout",U),document.body.addEventListener("wheel",A),document.addEventListener("scroll",V)}function X(e){do{if(!e)break;if(!e.target)break;let t=e.target.id;!t&&e.currentTarget&&(t=e.currentTarget.id);let n=e.target.closest(".xly-dialog-prompt"),i="";switch(t){case"ncennffkjdiamlpmcbajkmaiiiddgioo-prompt-install":i="install";break;case"ncennffkjdiamlpmcbajkmaiiiddgioo-prompt-close":i="close";break;case"ncennffkjdiamlpmcbajkmaiiiddgioo-prompt-not-disturb":i="not_disturb"}i&&(e.preventDefault(),chrome.runtime.sendMessage({name:"xl_prompt_click",action:i}),n&&document.body.removeChild(n))}while(0)}function $(e){let t="ncennffkjdiamlpmcbajkmaiiiddgioo-prompt";if(!document.getElementById(t)){chrome.runtime.sendMessage({name:"xl_prompt_show"});var n=document.createElement("div");n.className="xly-dialog-prompt",n.id=t,n.innerHTML=`\n    <h2>下载提醒</h2>\n    <a id="ncennffkjdiamlpmcbajkmaiiiddgioo-prompt-close" href="javascript:;" class="xly-dialog-close" title="关闭"><i class="icon-close"></i></a>\n    <p class="xly-dialog-prompt__text">${e}</p>\n    <div class="xly-dialog-prompt__footer">\n      <div class="xly-dialog-prompt__footer-operate">\n        <a id="ncennffkjdiamlpmcbajkmaiiiddgioo-prompt-not-disturb" href="javascript:;" class="xly-dialog-prompt__footer-link">不再显示</a>\n      </div>\n      <div class="xly-dialog-prompt__button">           \n        <button id="ncennffkjdiamlpmcbajkmaiiiddgioo-prompt-install" class="td-button">使用迅雷下载</button>\n      </div>\n    </div>\n    `,document.body.appendChild(n);for(var i=n.getElementsByTagName("a"),o=0;o<i.length;o++){i[o].addEventListener("click",X,!0)}var r=n.getElementsByTagName("button");for(o=0;o<r.length;o++){r[o].addEventListener("click",X,!1)}}}function K(){do{if(g)break;var e=null;try{e=window.top.document.getElementsByTagName("title")[0]}catch(e){}e&&(g=new MutationObserver(function(e){var t=document.getElementsByTagName("video");w=t})).observe(e,{childList:!0});var t=document.getElementsByTagName("video");w=t}while(0)}function F(){do{if(!t)break;if(!p)break;if(!b)break;if(_)break;z(),K(),W()}while(0)}e=!0,N(),d=document.location.href,chrome.extension.sendRequest({name:"CheckActivated",url:d}),document.addEventListener("DOMContentLoaded",function(){var e;!function(){for(var e=0;e<document.links.length;e++)document.links[e].addEventListener("click",T,!1)}(),e=document.location.href,chrome.extension.sendRequest({name:"CheckVideoInWhiteList",url:e},function(e){b=e.videoInWhiteList,t=e.bPlugin,p=e.bMonitorVideo,t&&p&&F()})}),P(),chrome.extension.sendRequest({name:"GetConfig"},function(e){e&&(c=e.bMonitorEmule,u=e.bMonitorMagnet,m=e.bMonitorTradition,f=e.bMonitorIE,a=e.monitorDomains,l=e.filterDomains,s=e.monitorFileExts)})}()},function(e,t,n){var i,{StateMachine:o}=n(3);!function(){function e(){this._invertedSelection=!1,this._curpos={x:0,y:0},this._selectableElements=[],this._visibleElements=[];var e=this,t=document.createElement("div");t.id=CSS.ids.overlay;var n=document.createElement("div");n.id=CSS.ids.glass;var r=document.createElement("div");r.id=CSS.ids.help,r.innerHTML=chrome.i18n.getMessage("usage"),r.onmouseover=function(){r.classList.add(CSS.classes.invisible)},r.onmouseout=function(){r.classList.remove(CSS.classes.invisible)};var a,l,s=function(e){e.preventDefault(),e.stopPropagation()},d=function(t){e._curpos.x=t.clientX,e._curpos.y=t.clientY},c=null,u={contextmenu:function(e){s(e)},mousemove:function(t){d(t),e.sm.fireEvent("mousemove")},mousedown:function(t){if(null===c&&(0==t.button||2==t.button)){switch(c=0==t.button?t.ctrlKey?1:0:2){case 0:d(t),e.sm.fireEvent("mousedown");break;case 1:case 2:d(t),e.sm.fireEvent("alt_mousedown")}s(t)}},mouseup:function(t){if(null!==c&&(t.button==c||0==t.button||1==c)){switch(t.button){case 0:d(t),e.sm.fireEvent(1==c?"alt_mouseup":"mouseup");break;case 2:d(t),e.sm.fireEvent("alt_mouseup")}c=null,s(t)}},keydown:function(t){switch(t.keyCode){case 13:e.sm.fireEvent("req_download");break;case 27:e.sm.fireEvent("req_exit");break;default:return}s(t)},resize:(a=null,l=function(){a=null,e.updateVisibleElements()},function(e){null!==a&&clearTimeout(a),a=setTimeout(l,100)}),scroll:function(){var t=null,n=function(){t=null,e.updateVisibleElements()};return function(e){null!==t&&clearTimeout(t),t=setTimeout(n,100)}}()};document.addEventListener("contextmenu",u.contextmenu),document.addEventListener("scroll",u.scroll),window.addEventListener("resize",u.resize),document.addEventListener("keydown",u.keydown,!0),document.body.addEventListener("mousedown",u.mousedown,!0),document.body.addEventListener("mouseup",u.mouseup,!0),t.appendChild(r),t.appendChild(n);var m=new o;m.states.load={__enter__:function(){document.documentElement.classList.add(CSS.classes.loading),document.body.appendChild(t),t.addEventListener("webkitTransitionEnd",function(){t.removeEventListener("webkitTransitionEnd",arguments.callee),e.sm.fireEvent("load_done")}),setTimeout(function(){e.populate(),e.updateVisibleElements(),document.documentElement.classList.remove(CSS.classes.loading)},0)},load_done:"idle"},m.states.exit={__enter__:function(){e._cursel&&h(),document.removeEventListener("mousemove",u.mousemove),document.removeEventListener("scroll",u.scroll),window.removeEventListener("resize",u.resize),document.removeEventListener("contextmenu",u.contextmenu),document.removeEventListener("keydown",u.keydown,!0),document.body.removeEventListener("mousedown",u.mousedown,!0),document.body.removeEventListener("mouseup",u.mouseup,!0),e._selectableElements.forEach(function(e){e._private.delegate.classList.remove(CSS.classes.selected),e._private.delegate.classList.remove(CSS.classes.relative),delete e._private}),t.addEventListener("webkitTransitionEnd",function(){t.removeEventListener("webkitTransitionEnd",arguments.callee),document.body.removeChild(t),document.documentElement.classList.remove(CSS.classes.exiting),e.sm.fireEvent("exit_done")}),document.documentElement.classList.add(CSS.classes.exiting)},__exit__:function(){i.instance=null},exit_done:null},m.states.idle={mousedown:"selection",alt_mousedown:"deselection",req_exit:"exit",req_download:"action-download"};var f=null,v=null,p=function(){var t=document.createElement("div");t.classList.add(CSS.classes.selectionRectangle),t.style.left=e._curpos.x+"px",t.style.top=e._curpos.y+"px",e._invertedSelection&&t.classList.add(CSS.classes.inverted),e._cursel=document.body.appendChild(t),e._startpos={x:e._curpos.x,y:e._curpos.y},e._selrect={x:e._curpos.x,y:e._curpos.y,w:0,h:0},e._lastDrawn={},f=setInterval(e.drawSelection.bind(e),30),v=setInterval(e.calcSelectedElements.bind(e),30),document.addEventListener("mousemove",u.mousemove)},h=function(){for(var t in document.removeEventListener("mousemove",u.mousemove),clearInterval(f),clearInterval(v),f=null,v=null,e.calcSelectedElements(),e._selectableElements){var n=e._selectableElements[t]._private;n.selected=n.selected2}return e._cursel.addEventListener("webkitTransitionEnd",function(){document.body.removeChild(this)}.bind(e._cursel)),e._cursel.classList.add(CSS.classes.closing),delete e._cursel,delete e._startpos,delete e._selrect,delete e._lastDrawn,"idle"},b=function(){if(e._startpos){var t=e._startpos,n=e._curpos,i=e._selrect;i.x=Math.min(t.x,n.x),i.y=Math.min(t.y,n.y),i.w=Math.abs(t.x-n.x),i.h=Math.abs(t.y-n.y)}};m.states.selection={__enter__:function(){e._invertedSelection=!1,p()},mousemove:b,mouseup:h,req_exit:"exit"},m.states.deselection={__enter__:function(){e._invertedSelection=!0,p()},mousemove:b,alt_mouseup:h,req_exit:"exit"},m.states["action-download"]={__enter__:function(){var t,n,i=(t=e._selectableElements,n={},t.forEach(function(e){if(e._private.selected){var t=function(e){var t=e.href;do{var n=e.getAttribute("thunderhref");if(n){t=n;break}var i=e.getAttribute("thundertype");if(null===i)break;var o=e.attributes.length;if(o<=0)break;for(var r=0;r<o;r++){var a=e.attributes[r].value;if(a&&0===a.toLowerCase().indexOf("thunder://")){t=a;break}}}while(0);return t}(e);n[t]=null}}),Object.keys(n));chrome.extension.sendMessage({name:"xl_download_multi",referurl:document.location.href,cookie:document.cookie,urls:i}),e.sm.fireEvent("done")},done:"exit"},this.sm=m}function t(e,t){for(var n in e)e[n].classList.add(CSS.classes.selected);for(var n in t)t[n].classList.remove(CSS.classes.selected)}function n(e,t){return!(e.bottom<t.y||t.y+t.h<e.top||e.right<t.x||t.x+t.w<e.left)}CSS={ids:{glass:"ncennffkjdiamlpmcbajkmaiiiddgioo-glass",help:"ncennffkjdiamlpmcbajkmaiiiddgioo-help",overlay:"ncennffkjdiamlpmcbajkmaiiiddgioo-overlay"},classes:{closing:"ncennffkjdiamlpmcbajkmaiiiddgioo-closing",exiting:"ncennffkjdiamlpmcbajkmaiiiddgioo-exiting",inverted:"ncennffkjdiamlpmcbajkmaiiiddgioo-inverted",invisible:"ncennffkjdiamlpmcbajkmaiiiddgioo-invisible",loading:"ncennffkjdiamlpmcbajkmaiiiddgioo-loading",relative:"ncennffkjdiamlpmcbajkmaiiiddgioo-relative",selected:"ncennffkjdiamlpmcbajkmaiiiddgioo-selected",selectionRectangle:"ncennffkjdiamlpmcbajkmaiiiddgioo-selection-rectangle"}},e.prototype.populate=function(){for(var e=document.links,t=/^javascript:/,n=0;n<e.length;n++){var i=e[n];if(void 0!=i.href&&!t.test(i.href)){var o=i,r=i.getElementsByTagName("img");r.length&&(o=r[0]),i._private={selected:!1,selected2:!1,delegate:o,positionfix:!1},this._selectableElements.push(i)}}},e.prototype.updateVisibleElements=function(){var e={x:0,y:0,w:window.innerWidth,h:window.innerHeight},t=this._visibleElements,i=this._selectableElements;for(var o in t.splice(0),i){var r=i[o],a=r._private,l=a.delegate;n(l.getBoundingClientRect(),e)&&(t.push(r),a.positionfix||(a.positionfix=!0,"static"==window.getComputedStyle(l).position&&l.classList.add(CSS.classes.relative)))}},e.prototype.drawSelection=function(){var e=this._selrect,t=this._lastDrawn,n=this._cursel.style;e.x==t.x&&e.y==t.y&&e.w==t.w&&e.h==t.h||(n.left=(t.x=e.x)+"px",n.top=(t.y=e.y)+"px",n.width=(t.w=e.w)+"px",n.height=(t.h=e.h)+"px")},e.prototype.calcSelectedElements=function(){var e=this._visibleElements,i=this._selrect,o=[],r=[];for(var a in e){for(var l=e[a]._private,s=l.delegate,d=l.delegate.getClientRects(),c=!1,u=0;u<d.length;u++){if(n(d[u],i)){c=!0;break}}var m=c?!this._invertedSelection:l.selected;m!=l.selected2&&((m?o:r).push(s),l.selected2=m)}(o||r)&&setTimeout(t,0,o,r)},i={instance:null,enter:function(){null===i.instance&&(i.instance=new e,i.instance.sm.start("load"),chrome.runtime.sendMessage({name:"xl_download_multi_start",referurl:document.location.href}))},quit:function(){i.instance&&i.instance.sm.fireEvent("req_exit")},download:function(){i.instance&&i.instance.sm.fireEvent("req_download")}}}(),e.exports={XLMultiDownload:i}},function(e,t){function n(){this.states={},this._current=void 0}n.prototype.start=function(e){if(void 0!==this._current)throw"State machine already started";if(void 0===e||null===e)throw"Please give a valid state name";setTimeout(n._changeState,0,this,e)},n.prototype.fireEvent=function(e,t){if(void 0===this._current)throw"State machine not started";if(null===this._current)throw"State machine terminated";setTimeout(n._handleEvent,0,this,e,t)},n._changeState=function(e,t){if(null!==t&&!e.states.hasOwnProperty(t))throw e._current=null,'No such state "'+t+'"';var i=e._current;if(void 0!==i&&i.hasOwnProperty("__exit__")&&i.__exit__.apply(e),null!==t){if((i=e._current=e.states[t]).hasOwnProperty("__enter__")){var o=i.__enter__.apply(e);void 0!==o&&setTimeout(n._changeState,0,e,o)}}else e._current=null},n._handleEvent=function(e,t,i){var o=e._current[t];"function"==typeof o&&(o=o.apply(e,i)),void 0!==o&&setTimeout(n._changeState,0,e,o)},e.exports={StateMachine:n}}]);
//# sourceMappingURL=xl-content.js.map